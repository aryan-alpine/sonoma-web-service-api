<!DOCTYPE html>
<html>
<head>
<meta charset="US-ASCII">
<title>Insert title here</title>
<link rel="stylesheet" type="text/css" href="css/main.css">
</head>
<body>

<h1>POST pointsOfInterest</h1>

<p>
Even though we are POSTING, this service is meant to GET a list of "points of interest"</br/>
near a particular location,<br/>
at a particular time,<br/>
at a particular temperature,<br/>
for a particular user.</br/>
Previously known as <span style="color:red">"/re"</span>
</p>

<h2>Resource</h2>

<p>http://dev5:8888/pointsOfInterst?app=TestMyplacelist&APIKEY=75c4999090a275636cc22f3272b23f7c749728&ts=1374690007&dev=add0d21b-634e-4c04-9677-cbc24231aa29</p>

<h2>The OLD way ...</h2>

<p>https://www.aosvapps.com/re?app=TestMyplacelist&APIKEY=75c4999090a275636cc22f3272b23f7c749728&ts=1374690007&dev=add0d21b-634e-4c04-9677-cbc24231aa29</p>

<hr/>

<p>Note: There is a significant number of input parameters for this "GET" service.<br/>
Some are passed in the HTTP HEAD and others are posted as JSON in the HTTP BODY.<br/>
I think this list of input parameters can be significantly reduced.<br/>
To make recommendations, all we really need to know is<br/>
<ol>
<li>the coordinates of the individual</li>
<li>the identity of the individual</li>
</ol>
If they want to provide us some additional details about what their current desires are,<br/>
that might be helpful.<br/>
Everything else is unneccessary.
</p>



<h2>Input Parameters: HTTP HEAD</h2>

<table width="100%" border="1">

<tr>
<td>app (optional)</td>
<td></td>
</tr>


<tr>
<td>API_KEY (optional)</td>
<td>Special key to help ensure that only approved client's may utilize this service.</td>
</tr>

<tr>
<td>ts (optional)</td>
<td></td>
</tr>

<tr>
<td>dev (optional)</td>
<td>?</td>
</tr>

</table>


<h2>Input Parameters: HTTP BODY</h2>

<table width="100%" border="1">

<tr>
<td>adid (required)</td>
<td>I *think* this is a device id. <br/>
So this information can be used to determine points of interest for a particular user:<br/>
the owner of the device.</td>
</tr>


<tr>
<td>latitude (required)</td>
<td>latitude of the location of interest.</td>
</tr>

<tr>
<td>longitude (required)</td>
<td>longitude of the location interest.</td>
</tr>

<tr>
<td>temperature (optional)</td>
<td>If the temperature is really hot, maybe they want ice cream?<br/>
Do we really need the client device to tell us what the temperature is?<br/>
The server can figure that out no?</td>
</tr>

<tr>
<td>when (optional)</td>
<td>If it's early in the morning, maybe recommend Starbucks.<br/>
But not if it's midnight.<br/>
Do we really need the client device to tell us what time it is?
The server can figure that out no?</td>
</tr>

<tr>
<td>extraRules (optional)</td>
<td>Why do we need this?</td>
</tr>

<tr>
<td>version (optional)</td>
<td>Why do we need this?</td>
</tr>

<tr>
<td>skipSafeSearchFilters (optional)</td>
<td>What is this?<br/>
Do we really need this?</td>
</tr>

<tr>
<td>forceRefresh (optional)</td>
<td>What is this?<br/>
Do we really need this?</td>
</tr>

<tr>
<td>whenTzm (optional)</td>
<td>Do we really need this?<br/>
We know the coordinates and we know the time.<br/>
This can be calculated on the server side.</td>
</tr>

<tr>
<td>debug (optional)</td>
<td>Do we really need this?</td>
</tr>

</table>


<hr/>


<h2>Example Request</h2>

<h3>HTTP HEAD</h3>
<p>http://dev5:8888/pointsOfInterst?app=TestMyplacelist&APIKEY=75c4999090a275636cc22f3272b23f7c749728&ts=1374690007&dev=add0d21b-634e-4c04-9677-cbc24231aa29</p>

<h3>HTTP BODY</h3>
<pre>
{
    "adid": "",
    "where": {
        "latitude": "37.37943933333333",
        "longitude": "-121.961322"
    },
    "extraRules": [],
    "version": "2.0",
    "temperature": "70",
    "skipSafeSearchFilters": false,
    "when": 1374690006,
    "forceRefresh": false,
    "whenTzm": -480,
    "debug": false
}
</pre>


<h2>Example Response</h2>

<pre>
[
    {
        "latitude": "37.379439",
        "longitude": "-121.961322",
        "name": "Starbucks",
        "typeOfPlace": "coffee shop"
    },
    {
        "latitude": "37.379439",
        "longitude": "-121.961322",
        "name": "Peet's Coffee & Tea",
        "typeOfPlace": "coffee shop"
    }
]
</pre>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-48110106-1', 'alpineconnectivity.com');
  ga('send', 'pageview');

</script>
</body>
</html>